<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SPK Hyundai Cirebon</title>
<link rel="stylesheet" href="style.css">
<script src="global.js" defer></script>

<style>
body{
    background:#0f172a;
    color:#fff;
    font-family:Arial, sans-serif;
    margin:0;
}
.spk-container{
    max-width:800px;
    margin:40px auto;
    background:#111827;
    padding:30px;
    border-radius:12px;
    box-shadow:0 0 40px rgba(0,0,0,0.5);
}
h1{
    text-align:center;
    margin-bottom:5px;
}
.subtitle{
    text-align:center;
    opacity:0.7;
    margin-bottom:30px;
}
.section-title{
    margin-top:30px;
    margin-bottom:10px;
    border-bottom:1px solid #334155;
    padding-bottom:5px;
}
input, select{
    width:100%;
    padding:10px;
    margin-bottom:10px;
    border-radius:6px;
    border:none;
}
.btn-primary{
    background:#00bfff;
    color:#000;
    font-weight:bold;
    padding:12px;
    border:none;
    width:100%;
    border-radius:6px;
    cursor:pointer;
}
.bank-box{
    background:#0b1220;
    padding:15px;
    border-radius:8px;
    margin-top:15px;
    font-size:14px;
}
</style>
</head>
<body>

<div class="spk-container">

<h1>SURAT PESANAN KENDARAAN</h1>
<div class="subtitle">PT. Mulya Putra Citramobil â€“ Hyundai Cirebon</div>

<!-- DATA PEMBELI -->
<div class="section-title">DATA PEMBELI</div>
<input type="text" id="nama" placeholder="Nama Lengkap">
<input type="text" id="alamat" placeholder="Alamat">
<input type="text" id="hp" placeholder="No Telepon">

<!-- DATA KENDARAAN -->
<div class="section-title">DATA KENDARAAN</div>

<select id="unit" onchange="loadTypeSPK()">
<option value="">Pilih Unit</option>
<option value="Stargazer">Stargazer</option>
<option value="Stargazer Cartenz">Stargazer Cartenz</option>
<option value="Creta">Creta</option>
<option value="Kona EV">Kona EV</option>
<option value="IONIQ 5">IONIQ 5</option>
<option value="Santa Fe">Santa Fe</option>
<option value="Palisade">Palisade</option>
</select>

<select id="type" onchange="setOTR()">
<option value="">Pilih Type</option>
</select>

<input type="text" id="warna" placeholder="Warna">

<input type="text" id="otr" placeholder="Harga OTR" readonly>

<!-- PEMBAYARAN -->
<div class="section-title">PEMBAYARAN</div>

<select id="metode">
<option value="Tunai">Tunai</option>
<option value="Kredit">Kredit</option>
</select>

<input type="number" id="dp" placeholder="DP (%)">
<input type="number" id="tenor" placeholder="Tenor (tahun)">

<div class="section-title">REKENING PEMBAYARAN</div>

<select id="bank">
<option value="">Pilih Bank</option>
<option>Bank Mandiri - 1340000009877</option>
<option>Bank BCA - 1341737007</option>
<option>Bank Permata - 7601009808</option>
</select>

<div class="bank-box">
Semua rekening atas nama:<br>
<b>PT. Mulya Putra Citramobil</b>
</div>

<br>
<button class="btn-primary" onclick="kirimSPK()">Kirim SPK ke WhatsApp</button>

</div>
<script>

/* =========================
   DATA UNIT & TYPE + OTR
========================= */
const dataSPK = {
  "Stargazer": {
    "Active MT": 259700000,
    "Active IVT": 273100000
  },
  "Stargazer Cartenz": {
    "Trend MT": 277500000,
    "Trend IVT": 287750000
  },
  "Creta": {
    "Active": 299700000,
    "Trend": 321900000
  },
  "Kona EV": {
    "Prime Reguler": 584500000,
    "Signature Extended": 669550000
  },
  "IONIQ 5": {
    "Prime Reguler": 810000000,
    "Signature Extended": 926600000
  },
  "Santa Fe": {
    "Prime": 615000000,
    "Signature": 695000000
  },
  "Palisade": {
    "Prime": 875000000,
    "Signature AWD": 1025000000
  }
};

/* =========================
   LOAD TYPE BERDASARKAN UNIT
========================= */
function loadTypeSPK(){
  const unit = document.getElementById("unit").value;
  const typeSelect = document.getElementById("type");

  typeSelect.innerHTML = '<option value="">Pilih Type</option>';

  if(dataSPK[unit]){
    for(let type in dataSPK[unit]){
      let option = document.createElement("option");
      option.value = type;
      option.textContent = type;
      typeSelect.appendChild(option);
    }
  }

  document.getElementById("otr").value = "";
}

/* =========================
   SET OTR OTOMATIS
========================= */
function setOTR(){
  const unit = document.getElementById("unit").value;
  const type = document.getElementById("type").value;

  if(dataSPK[unit] && dataSPK[unit][type]){
    document.getElementById("otr").value =
      "Rp " + dataSPK[unit][type].toLocaleString("id-ID");
  }
}

/* =========================
   KIRIM KE WHATSAPP
========================= */
function kirimSPK(){
  const nama = document.getElementById("nama").value;
  const alamat = document.getElementById("alamat").value;
  const hp = document.getElementById("hp").value;
  const unit = document.getElementById("unit").value;
  const type = document.getElementById("type").value;
  const otr = document.getElementById("otr").value;
  const bank = document.getElementById("bank").value;

  if(!nama || !unit || !type){
    alert("Lengkapi data terlebih dahulu!");
    return;
  }

  const pesan = 
`SPK Hyundai Cirebon
PT. Mulya Putra Citramobil

Nama: ${nama}
Alamat: ${alamat}
HP: ${hp}

Unit: ${unit}
Type: ${type}
OTR: ${otr}

Bank: ${bank}`;

  window.open(
    "https://wa.me/6287772805133?text=" +
    encodeURIComponent(pesan),
    "_blank"
  );
}

</script>
</body>
</html>
